<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../css/beaurify.css" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.1/dist/css/datepicker-bs5.min.css"
		/>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
			crossorigin="anonymous"
		></script>
	</head>
		
	<body>
		<title>New Dataset</title>

		<div class="container">
			<div class="row my-3">
				<div class="form-group col text-center">
					<div class="badge bg-success"><span class="h3 text-uppercase" id="sensor-full-description"></span></div>
				</div>
				
			</div>

		
			<form id="new-chart-form">
				<!--Input for Sensor Output Data-->
				<div class="control-form-chart-entries form-group my-4 p-2">
					<div class="container">
						<div class="row">
							<div class="col-lg-2 col-sm-6 mb-sm-4">
								<label class="font-weight-bold" for="calibratorOutput">X-value</label>
								<input
									name="calibratorOutput"
									type="number"
									class="form-control"
									id="calibratorOutput"
									aria-describedby="calibratorOutput#Help"
									placeholder=""
									required
								/>
								<small
									id="calibratorOutput#Help"
									class="form-text text-muted"
								>
									Calibrator Output
								</small>
							</div>
							<div class="col-lg-2 col-sm-6 mb-sm-4">
								<label class="font-weight-bold" for="sensorError">Y-value</label>
								<input
									name="sensorError"
									type="number"
									class="form-control"
									id="sensorError"
									aria-describedby="sensorError#Help"
									placeholder=""
									required
								/>
								<small
									id="sensorError#Help"
									class="form-text text-muted"
								>
									Sensor Error
								</small>
							</div>
							<div class="d-flex align-items-center col-lg-2 col-sm-6">
								<button 
									id="add-chart-datapoint"
									type="button" 
									class="btn btn-secondary" 
									onclick=addNewDatapointToChart()
								>
									<i id="add-error-datapoint" class="fa fa-plus" aria-hidden="true"></i>
								</button>
								<button 
									id="remove-chart-datapoint"
									type="button" 
									class="btn btn-danger" 
									onclick=removeDatapointFromChart()
								>
									<i id="remove-error-datapoint" class="fa fa-minus" aria-hidden="true"></i>
								</button>
								<span id="current-sensor-error-dataset-size"></span>
							</div>
							

							<div class="col-lg-4 col-sm-8 mb-sm-4">
								<label for="seriesLabel">Series Label</label>
								<input
									name="seriesLabel"
									type="text"
									class="form-control"
									id="seriesLabel"
									aria-describedby="seriesLabel#Help"
									placeholder=""
									required
								/>
								<small id="seriesLabel#Help" class="form-text text-muted">
									Please, enter series label here
								</small>
							</div>
							<div class="col-lg-2 col-sm-4 mb-sm-4 my-4 x-1">
								<button 
									id="add-current-line-plot"
									type="button" 
									class="btn btn-outline-info m-1" 
									onclick=saveAndBeginNewChartPlot()
								>
									Create Plot
								</button>
								<button 
									id="disable-sensor-data-entries"
									type="button" 
									class="btn btn-outline-success m-1" 
									onclick=disableAllSensorDataEntries()
								>
									Done
								</button>
							</div>
							
						</div>
					</div>
				</div>

				<div class="control-form-field-box form-group my-4 p-2">
					<div class="container">
                        <div class="row">                            
							<div class="mb-sm-4">
								<label for="seriesDescription">Dataset Description</label>
								<input
									name="seriesDescription"
									type="text"
									class="form-control"
									id="seriesDescription"
									aria-describedby="seriesDescription#Help"
									placeholder=""
									required
								/>
								<small id="seriesDescription#Help" class="form-text text-muted">
									Please, enter a description for current chart dataset
								</small>
							</div>
						</div>
					</div>

				</div>
			</form>
		</div>


		<div class="form-group col text-center">
			<a href="../index.html" class="btn btn-dark">Back</a>
		</div>

	</body>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"
		integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ=="
		crossorigin="anonymous"></script>    
    </script>

	
	<script src="../js/classes/datasetGlobalFactory.js"></script>
	<script src="../js/utils/removeAllChildNodes.js"></script>
	<script src="../js/utils/trimStringBySubstring.js"></script>
	<script src="../js/utils/attachEventListenersToIcons.js"></script>
	<script src="../js/utils/filterObjectAndTransform.js"></script>

	<!--Get both containers for _chartfactory-->
	<script src="../js/collections/editChartContainer.js"></script>
    <script src="../js/collections/newChartDatasetFormContainer.js"></script>

	
	<script src="../js/datasets/fetchChartById.js"></script>
	

</html>